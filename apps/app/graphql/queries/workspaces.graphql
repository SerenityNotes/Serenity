query workspaces($deviceSigningPublicKey: String!) {
  workspaces(first: 50, deviceSigningPublicKey: $deviceSigningPublicKey) {
    nodes {
      id
      name
      members {
        userId
        role
      }
      currentWorkspaceKey {
        id
        workspaceId
        generation
        workspaceKeyBox {
          id
          workspaceKeyId
          deviceSigningPublicKey
          ciphertext
          nonce
          creatorDevice {
            signingPublicKey
            encryptionPublicKey
          }
        }
      }
      workspaceKeys {
        id
        workspaceId
        generation
        workspaceKeyBox {
          id
          workspaceKeyId
          deviceSigningPublicKey
          ciphertext
          nonce
          creatorDevice {
            signingPublicKey
            encryptionPublicKey
          }
        }
      }
    }
  }
}
